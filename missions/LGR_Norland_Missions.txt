lgr_norland_main = {
	slot = 3
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_stablize_the_army = {
		icon = army_reforms
		position = 1
		required_missions = {  }

		trigger = {
			army_size_percentage = 1
			manpower_percentage = 0.8
		}

		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = lgr_norse_mission_stable_army
				duration = 5475
			}
		}
	}

	lgr_norland_end_disaster = {
		icon = kingdom_of_lombardy
		position = 2
		required_missions = {  
			lgr_norland_stablize_the_army
			lgr_norland_religious_start
			lgr_norland_have_an_ally
		}

		trigger = {
			stability = 1
			army_size_percentage = 0.5
			manpower_percentage = 0.3
		}

		effect = {
			add_prestige = 25
		}
	}

	lgr_norland_survive = {
		icon = mission_great_wall
		position = 3
		required_missions = {
			lgr_norland_end_disaster
		}

		trigger = {
			is_year = 1454
			owns_core_province = 35
			is_subject = no
		}

		effect = {
			curonia_area = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			estonia_ingria_area = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			livonia_area = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			25 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			add_country_modifier = {
				name = lgr_norse_attack_livonia
				duration = 5475
			}
		}
	}

	lgr_norland_attack_scandinavia = {
		position = 5
		icon = mission_great_wall
		required_missions = {
			lgr_norland_survive
		}

		provinces_to_highlight = {
			OR = {
				province_id = 25
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			25 = {
				country_or_non_sovereign_subject_holds = ROOT
				has_owner_religion = yes
			}
		}

		effect = {
			add_casus_belli = {
				type = cb_crusade
				target = SWE
				months = 240
			}
		}
	}
}

lgr_norland_main_side_religious = {
	slot = 2
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_religious_start = {
		icon = mission_mosque
		position = 1
		required_missions = {  }

		provinces_to_highlight = {
			province_id = 35
			NOT = {
				has_tax_building_trigger = yes
			}
		}

		trigger = {
			35 = {
				has_tax_building_trigger = yes
			}
		}

		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = lgr_norse_norse_religion
				duration = 5475
			}
		}
	}

	lgr_norland_war_with_the_heathens = {
		icon = mission_conquer_romania
		position = 3
		required_missions = {
			lgr_norland_religious_start
			lgr_norland_end_disaster
		}

		provinces_to_highlight = {
			OR = {
				owned_by = LIV
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			offensive_war_with = LIV
		}

		effect = {
			define_general = {
				shock = 3
				fire = 2
				manuever = 1
				siege = 3
			}

			east_prussia_area = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}

			west_prussia_area = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	lgr_norland_expel_the_heathens = {
		icon = evengelize_the_faith
		position = 4
		required_missions = {
			lgr_norland_war_with_the_heathens
		}

		trigger = {
			ROOT = {
				num_of_owned_provinces_with = {
					value = 5
					has_owner_religion = yes
					is_overseas = no
				}
			}
		}

		effect = {
			add_adm_power = 100
		}
	}

	lgr_norland_spread_the_true_faith = {
		icon = gory_to_the_black_army
		position = 6
		required_missions = {
			lgr_norland_expel_the_heathens
		}

		trigger = {
			calc_true_if = {
				all_neighbor_country = {
					NOT = { is_subject_of = ROOT }
					religion = ROOT
				}
				amount = 2
				desc = tooltip_lgr_norse_spread_the_true_faith
			}
		}

		effect = {
			add_country_modifier = {
				name = lgr_norse_spread_the_true_faith
				duration = 7300
			}
		}
	}
}

lgr_norland_religious_side_orders = {
	slot = 1
	generic = no 
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_dismantle_teutonic_order = {
		icon = knights_of_the_new_world
		position = 4
		required_missions = {
			lgr_norland_war_with_the_heathens
		}

		trigger = {
			NOT = {
				exists = TEU
			}

			43 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			add_mil_power = 50
			add_country_modifier = {
				name = lgr_military_tradition
				duration = 7300
			}
		}
	}

	lgr_norland_integrate_prussian_culture = {
		icon = an_army_with_a_state
		position = 5
		required_missions = {
			lgr_norland_dismantle_teutonic_order
		}

		trigger = {
			army_tradition = 40

			ROOT = {
				num_of_owned_provinces_with = {
					AND = {
						area = east_prussia_area
						area = west_prussia_area
					}
					value = 4
					has_owner_religion = yes
				}
			}

		}

		effect = {
			add_country_modifier = {
				name = lgr_norse_norse_prussia
				duration = -1
			}
		}
	}
}

lgr_norland_diplomatic= {
	slot = 4
	generic = no
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_have_an_ally = {
		icon = mission_alliances
		position = 1
		required_missions = {  }

		trigger = {
			num_of_allies = 1
			calc_true_if = {
				all_ally = { has_opinion = { who = ROOT value = 75 } }
				amount = 1
			}
		}

		effect = {
			add_prestige = 10
			add_country_modifier = {
				name = lgr_norse_diplomatic_gains
				duration = 5475
			}
		}
	}
}

lgr_norland_livonian_order_and_russia = {
	slot = 4
	generic = no 
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_controll_livonian_order = {
		position = 4
		icon = mission_conquer_riga
		required_missions = {
			lgr_norland_survive
		}

		provinces_to_highlight = {
			OR = {
				area = livonia_area
				area = estonia_ingria_area
				area = curonia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				OR = {
					area = livonia_area
					area = estonia_ingria_area
					area = curonia_area
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = lgr_norse_controll_liv_order
				duration = 5475
			}

			33 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}



			hidden_effect = {
				if = {
					limit = {
						MOS = {
							exists = yes
						}
						
					}
					MOS = {
						add_historical_friend = GNL
					}

				}
			}
		}
	}

	lgr_norland_dev_our_homelands = {
		position = 6
		icon = develop_provence
		required_missions = {
			lgr_norland_controll_livonian_order
		}

		provinces_to_highlight = {
			OR = {
				area = livonia_area
				area = estonia_ingria_area
				area = curonia_area
			}
			NOT = { 
				AND = {
					country_or_non_sovereign_subject_holds = ROOT 
					development = 20
				}
			}
		}

		trigger = {
			AND = {
				capital_scope = {
					development = 25
				}
	
				num_of_owned_provinces_with = {
					OR = {
						area = livonia_area
						area = estonia_ingria_area
						area = curonia_area
					}
					development = 20
					value = 5
				}
			}
		}

		effect = {

			custom_tooltip = tooltip_lgr_norse_dev_homelands

			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							area = livonia_area
							area = estonia_ingria_area
							area = curonia_area
						}
					}
					add_province_modifier = {
						name = lgr_norse_dev_homeland
						duration = 7300
					}
				}	
			}
			
		}
	}
}

lgr_norland_baltic_trade_and_navy = {
	slot = 5
	generic = no 
	ai = yes
	potential_on_load = {
		has_dlc = "Emperor"
	}potential = {
		has_dlc = "Emperor"
		tag = GNL
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	lgr_norland_baltic_fleet = {
		position = 3
		icon = mission_danzig_or_war
		required_missions = {
			
		}

		trigger = {
				num_of_galley = 15
		}

		effect = {
			add_country_modifier = {
				name = lgr_galleys
				duration = 3650
			}
		}
	}

	lgr_norland_competitive_trading = {
		position = 5
		icon = mission_develop_nevas_port
		required_missions = {
			lgr_norland_controll_livonian_order
			lgr_norland_baltic_fleet
		}

		trigger = {
			home_trade_node = {
				trade_share = {
					country = ROOT
					share = 33
				}
			}
		}

		effect = {
			capital_scope = {
				add_unit_construction = {
					type = heavy_ship
					amount = 3
					cost = 0.1
					speed = 0.5
				}
			}
		}
	}
}
